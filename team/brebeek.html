<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]--><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="Asciidoctor 1.5.6.1"><title>Hu Yuchen - Project Portfolio</title><link rel="stylesheet" href="../stylesheets/gh-pages.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.5.0/css/font-awesome.min.css">
<link rel="stylesheet" href="../stylesheets/coderay-asciidoctor.css"></head><body class="article"><div id="site-header"><nav class="navbar navbar-light bg-light"><div class="container"><a class="navbar-brand" href="../index.html">Typee</a><ul class="navbar-nav"><li class="nav-item"><a class="nav-link" href="../UserGuide.html">User Guide</a></li><li class="nav-item"><a class="nav-link" href="../DeveloperGuide.html">Developer Guide</a></li><li class="nav-item"><a class="nav-link active" href="../AboutUs.html">About Us</a></li><li class="nav-item"><a class="nav-link" href="../ContactUs.html">Contact Us</a></li><li class="navitem"><a class="nav-link" href="https://github.com/AY1920S1-CS2103T-F14-3/main"><span class="fa fa-github fa-lg" aria-hidden="true"></span>&nbsp;View on GitHub</a></li></ul></div></nav></div><div id="header"><h1>Hu Yuchen - Project Portfolio</h1></div><div id="content"><div id="preamble">
<div class="sectionbody">
<div class="exampleblock">
<div class="content">
<div class="openblock">
<div class="content">
<div class="imageblock" style="text-align: left">
<div class="content">
<img src="../images/brebeek.png" alt="brebeek" width="130">
</div>
</div>
</div>
</div>
<div class="paragraph">
<p><span class="blue">This page serves as my <em>CS2103T</em> project portfolio page on project <strong><em>Typee</em></strong>.</span> The following technologies
and software were used in the development of <strong><em>Typee</em></strong> application:</p>
</div>
<div class="openblock">
<div class="content">
<div class="imageblock" style="float: left">
<div class="content">
<img src="../images/java-logo.png" alt="java logo" width="80" height="80">
</div>
</div>
<div class="imageblock" style="float: left">
<div class="content">
<img src="../images/javafx-logo.png" alt="javafx logo" width="80" height="80">
</div>
</div>
<div class="imageblock" style="float: left">
<div class="content">
<img src="../images/junit5-logo.png" alt="junit5 logo" width="80" height="66">
</div>
</div>
<div class="imageblock" style="float: left">
<div class="content">
<img src="../images/json-logo.png" alt="json logo" width="80" height="67">
</div>
</div>
<div class="imageblock" style="float: left">
<div class="content">
<img src="../images/travis-logo.png" alt="travis logo" width="80" height="68">
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/github-logo.png" alt="github logo" width="80" height="80">
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="project-typee"><a class="link" href="#project-typee">PROJECT: Typee</a></h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="overview"><a class="link" href="#overview">Overview</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong><em>Typee</em></strong> is a desktop engagement management application. It has a GUI created with JavaFX, but most of the user interactions happen using a CLI (Command Line Interface).
It is an appointment manager for secretaries and receptionists to better schedule and manage appointments. <strong><em>Typee</em></strong> comes with a dynamic parsing input structure and productivity enhancing features like graphical calendar view,
conflict checker, sorting and undo/redo. All data required is stored locally, and Internet connection is not necessary for full functionality.<br>
<strong><em>Typee</em></strong> is written in Java and contains around 17kLoC.</p>
</div>
<div class="paragraph">
<p>This is what our project looks like:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/Ui.png" alt="Ui" width="450">
</div>
<div class="title">Figure 1. The graphical user interface for <strong><em>Typee</em></strong></div>
</div>
<div class="paragraph">
<p>My role was to enhance functionality by designing and implementing new features to the program. The following sections illustrate these enhancements in more detail, as well as the relevant documentation I have added to the user and developer guides in relation to these enhancements.</p>
</div>
<div class="paragraph">
<p>Note the following symbols and formatting used in this document:</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
This symbol indicates useful information for users to utilise <strong><em>Typee</em></strong>.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
This symbol indicates additional or important information.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><code>undo</code> : A grey highlight (called a mark-up) indicates that this is a command that can be inputted into the command line and executed by the application.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="summary-of-contributions"><a class="link" href="#summary-of-contributions">Summary of contributions</a></h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Given below is a brief summary of my contribution to the project.</em></p></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="strong-major-enhancement-strong"><a class="link" href="#strong-major-enhancement-strong"><strong>Major enhancement</strong>:</a></h3>
<div class="ulist">
<ul>
<li>
<p>Added the ability to <strong>undo/redo previous commands</strong></p>
<div class="ulist">
<ul>
<li>
<p>What it does: allows the user to undo all previous commands one at a time. Preceding undo commands can be reversed by using the redo command. The undo/redo feature supports operations that modify the engagement list, and provides instant feedback on the graphical interface.</p>
</li>
<li>
<p>Justification: This feature improves the product significantly because a user can make mistakes in commands and the app should provide a convenient way to rectify them. Especially for secretaries whose nature of work requires high productivity over certain periods of time,
undo/redo features are efficient ways to revert and start over.</p>
</li>
<li>
<p>Highlights: This enhancement affects existing commands and commands to be added in future. It required an in-depth analysis of design alternatives. The implementation too was challenging as it required changes to existing commands.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Added the ability to <strong>sort engagements by customisable order</strong></p>
<div class="ulist">
<ul>
<li>
<p>What it does: the sort feature takes in a parameter of engagements to sort by (e.g. starting time, priority, name etc.) and an ordering method (ascending and descending), and sorts the displayed engagement list accordingly.
Operations that require an index of an arrangement can be specified based on the order of such sorted lists. Moreover, the ordering is preserved when operations that modify the engagement list (e.g. adding a new engagement) take place.</p>
</li>
<li>
<p>Justification: This feature is of significant value in actual scenarios, as secretaries usually deal with a massive amount of engagements, ranging from urgent to long-term, and important to less important. Sorting is thus needed in
displaying all entries in a customisable order, such that all engagements can be managed in an organised manner.</p>
</li>
<li>
<p>Highlights: This enhancement requires a large number of customised comparators, which is managed using an Enum class. It also affects existing features that depend on the order of the displayed list or modify the list, which requires a good design of implementation and
careful tweaks to existing structures.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Minor enhancement</strong>: refactored code from [<a href="https://github.com/nus-cs2103-AY1920S1/addressbook-level3">Address Book - Level 3</a>] to fit the context of <strong><em>Typee</em></strong></p>
</li>
<li>
<p><strong>Code contributed</strong>: [<a href="https://nus-cs2103-ay1920s1.github.io/tp-dashboard/#search=brebeek&amp;sort=groupTitle&amp;sortWithin=title&amp;since=2019-09-06&amp;timeframe=commit&amp;mergegroup=false&amp;groupSelect=groupByRepos&amp;breakdown=false">Functional code</a>][<a href="https://nus-cs2103-ay1920s1.github.io/tp-dashboard/#search=brebeek&amp;sort=groupTitle&amp;sortWithin=title&amp;since=2019-09-06&amp;timeframe=commit&amp;mergegroup=false&amp;groupSelect=groupByRepos&amp;breakdown=false">Test code</a>]</p>
</li>
<li>
<p><strong>Other contributions</strong>:</p>
<div class="ulist">
<ul>
<li>
<p>Project management:</p>
<div class="ulist">
<ul>
<li>
<p>Managed milestones <code>v1.2</code> - <code>v1.4</code> on GitHub</p>
</li>
</ul>
</div>
</li>
<li>
<p>Enhancements to existing features:</p>
<div class="ulist">
<ul>
<li>
<p>Updated part of the find feature (Pull request <a href="https://github.com/AY1920S1-CS2103T-F14-3/main">#111</a>)</p>
</li>
<li>
<p>Wrote additional tests for existing features to increase coverage from 50% to 65% (e.g. Pull requests <a href="https://github.com/AY1920S1-CS2103T-F14-3/main">#220</a>, <a href="https://github.com/AY1920S1-CS2103T-F14-3/main">#212</a>)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Documentation:</p>
<div class="ulist">
<ul>
<li>
<p>Did cosmetic tweaks to existing contents of the User Guide: <a href="https://github.com/AY1920S1-CS2103T-F14-3/main">#112</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Community:</p>
<div class="ulist">
<ul>
<li>
<p>PRs reviewed (with non-trivial review comments): <a href="https://github.com/AY1920S1-CS2103T-F14-3/main">#69</a></p>
</li>
<li>
<p>Contributed to forum discussions (examples:  <a href="https://github.com/nus-cs2103-AY1920S1/addressbook-level3">#11</a>, <a href="https://github.com/nus-cs2103-AY1920S1/addressbook-level3">#1</a>, <a href="https://github.com/nus-cs2103-AY1920S1/addressbook-level3">#13</a>)</p>
</li>
<li>
<p>Reported bugs and suggestions for other teams in the class (examples:  <a href="https://github.com/brebeek/ped/issues">#1</a>, <a href="https://github.com/brebeek/ped/issues">#2</a>, <a href="https://github.com/brebeek/ped/issues">#3</a>)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Tools:</p>
<div class="ulist">
<ul>
<li>
<p>Used graphviz and PlantUML plugins to aid in editing</p>
</li>
<li>
<p>Added Codacy code review to repository (Pull request <a href="https://github.com/AY1920S1-CS2103T-F14-3/main">#197</a>)</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="contributions-to-the-user-guide"><a class="link" href="#contributions-to-the-user-guide">Contributions to the User Guide</a></h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Given below are sections I contributed to the User Guide. They showcase my ability to write documentation targeting end-users.</em></p></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="sorting-all-engagements-code-sort-code"><a class="link" href="#sorting-all-engagements-code-sort-code">Sorting all engagements : <code>sort</code></a></h3>
<div class="paragraph">
<p>Sorts the list of all engagements in the engagement list by the order specified by user.<br>
Format: <code>sort p/PROPERTY o/ORDER</code></p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Properties supported: <code>start</code> (Start time), <code>end</code> (End time), <code>priority</code> and <code>description</code><br>
Orders supported: <code>ascending</code> and <code>descending</code>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sort</code><br>
<code>p/start</code><br>
<code>o/ascending</code><br>
Sorts the list displayed in ascending order of start time.</p>
</li>
</ul>
</div>
<div class="openblock clearfix">
<div class="content">
<div class="imageblock" style="float: left">
<div class="content">
<img src="../images/before-sort.png" alt="before sort" width="450">
</div>
<div class="title">Figure 2. Engagement list before sorting</div>
</div>
<div class="imageblock" style="float: left">
<div class="content">
<img src="../images/after-p.png" alt="after p" width="450">
</div>
<div class="title">Figure 3. Engagement list after the execution of <code>sort</code></div>
</div>
<div class="imageblock" style="float: left">
<div class="content">
<img src="../images/after-o.png" alt="after o" width="450">
</div>
<div class="title">Figure 4. Engagement list after the execution of <code>p/start</code></div>
</div>
<div class="imageblock left">
<div class="content">
<img src="../images/after-sort.png" alt="after sort" width="450">
</div>
<div class="title">Figure 5. Engagement list after the execution of <code>o/ascending</code></div>
</div>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<code>sort</code> command can be done in one shot by giving all attributes at once. e.g. figure below shows the execution of <code>sort p/start o/ascending</code>.
</td>
</tr>
</table>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/after-oneshot-sort.png" alt="after oneshot sort" width="450">
</div>
<div class="title">Figure 6. Sorting engagement list by providing attributes at once</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
After sorting, commands that require INDEX as an input field (e.g. <code>delete</code>) will take in INDEX with regards to the new list  displayed. e.g. <code>delete i/1</code> will delete the current first engagement displayed.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="undoing-the-previous-command-code-undo-code"><a class="link" href="#undoing-the-previous-command-code-undo-code">Undoing the previous command : <code>undo</code></a></h3>
<div class="paragraph">
<p>Undoes the previous command, provided that it exists.<br>
Format: <code>undo</code></p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Undo supports the following commands that modify the engagement list: <code>add</code>, <code>delete</code> and <code>clear</code>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>add t/Meeting s/18/10/2019/1500 e/18/10/2019/1800 l/COM-2-B1-03 a/John, Elijah, Sam d/CS2103T Discussion p/High</code><br>
<code>undo</code><br>
Undoes the add command, i.e. the engagement with the description <code>CS2103T Discussion</code> will no longer be in the appointment manager.</p>
</li>
<li>
<p><code>delete i/1</code><br>
<code>undo</code><br>
Undoes the delete command, i.e. restores the first engagement in the original displayed list.</p>
</li>
</ul>
</div>
<div class="openblock clearfix">
<div class="content">
<div class="imageblock" style="float: left">
<div class="content">
<img src="../images/after-list.png" alt="after list" width="450">
</div>
<div class="title">Figure 7. Engagement list before the command <code>delete i/1</code></div>
</div>
<div class="imageblock left">
<div class="content">
<img src="../images/deletion-before-undo.png" alt="deletion before undo" width="450">
</div>
<div class="title">Figure 8. Engagement list after deletion</div>
</div>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/undo-result.png" alt="undo result" width="450">
</div>
<div class="title">Figure 9. Engagement list after the command <code>undo</code></div>
</div>
</div>
<div class="sect2">
<h3 id="redoing-the-previous-command-code-redo-code"><a class="link" href="#redoing-the-previous-command-code-redo-code">Redoing the previous command : <code>redo</code></a></h3>
<div class="paragraph">
<p>Redoes the previous <code>undo</code> command. There must be a valid undo command to redo, otherwise this command does nothing.<br>
Format: <code>redo</code></p>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>delete i/1</code><br>
<code>undo</code> (reverts the <code>delete i/1</code> command)<br>
<code>redo</code> (reapplies the <code>delete i/1</code> command)<br></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Redoes the previous undo command, i.e. the engagement deleted before <code>undo</code> will be removed again from the engagement manager.</p>
</div>
<div class="openblock clearfix">
<div class="content">
<div class="imageblock" style="float: left">
<div class="content">
<img src="../images/undo-result.png" alt="undo result" width="450">
</div>
<div class="title">Figure 10. Engagement list after the command <code>undo</code></div>
</div>
<div class="imageblock left">
<div class="content">
<img src="../images/redo-result.png" alt="redo result" width="450">
</div>
<div class="title">Figure 11. Engagement list after the command <code>redo</code></div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="contributions-to-the-developer-guide"><a class="link" href="#contributions-to-the-developer-guide">Contributions to the Developer Guide</a></h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Given below are sections I contributed to the Developer Guide. They showcase my ability to write technical documentation and the technical depth of my contributions to the project.</em></p></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="sort-feature"><a class="link" href="#sort-feature">Sort feature</a></h3>
<div class="sect3">
<h4 id="implementation"><a class="link" href="#implementation">Implementation</a></h4>
<div class="paragraph">
<p>The sort mechanism is facilitated by <code>EngagementComparator</code>.
The <code>EngagementComparator</code> is an enum class that implements Java Comparator&lt;Engagement&gt; and specifies the comparing logic of 8 different orders, namely <code>START_TIME</code>, <code>START_TIME_REVERSE</code>, <code>END_TIME</code>, <code>END_TIME_REVERSE</code>, <code>ALPHABETICAL</code>, <code>ALPHABETICAL_REVERSE</code>, <code>PRIORITY</code>, and <code>PRIORITY_REVERSE</code>.
Each positive sequence comparator compares two <code>Engagements</code> with the field specified within its name in ascending order, and <code>_REVERSE</code> comparators compare in descending order.</p>
</div>
<div class="paragraph">
<p>Additionally, the <code>Model</code> interface is modified to support the following methods:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>Model#setComparator(Comparator&lt;Engagement&gt;)</code>&#8201;&#8212;&#8201;Sets the designated comparator in model.</p>
</li>
<li>
<p><code>Model#updateSortedEngagementList()</code>&#8201;&#8212;&#8201;Executes the sorting method with the <code>currentComparator</code> in model to sort the internal list.</p>
</li>
<li>
<p><code>Model#getSortedEngagementList()</code>&#8201;&#8212;&#8201;Returns the current internal engagement list as an unmodifiable <code>ObservableList</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>These operations are implemented in the <code>ModelManager</code> class as <code>ModelManager#setComparator(Comparator&lt;Engagement&gt;)</code>, <code>ModelManager#updateSortedEngagementList()</code> and <code>ModelManager#getSortedEngagementList()</code> respectively.</p>
</div>
<div class="paragraph">
<p>Given below is an example usage scenario and how the sort mechanism behaves at each step.</p>
</div>
<div class="paragraph">
<p>Step 1. The user launches the application for the first time. The <code>currentComparator</code> will be initialized as <code>null</code>.</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="../images/SortListState0.png" alt="SortListState0" width="450">
</div>
</div>
<div class="paragraph">
<p>Step 2. The user executes <code>sort p/priority o/ascending</code> command to sort the engagement list in ascending order of priority. The <code>sort</code> command calls <code>Model#setComparator()</code>, causing the <code>currentComparator</code> in ModelManager to assume the value <code>EngagementComparator#PRIORITY</code>. The command then calls <code>Model#updateSortedEngagementList</code> to execute the sorting.</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="../images/SortListState1.png" alt="SortListState1" width="450">
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The parsing of <code>sort</code> follows the interactive parsing structure <strong><em>Typee</em></strong> adopts, where various stages are created while parsing. See Sequence Diagram below.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The following sequence diagram shows how the sort operation works:</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="../images/SortSequenceDiagram.png" alt="SortSequenceDiagram" width="750">
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The lifeline for <code>SortCommand</code> and the 3 Stages should end at the destroy marker (X) but due to a limitation of PlantUML, the lifeline reaches the end of diagram.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Step 3. The user executes <code>add t/meeting &#8230;&#8203; p/high</code> to add a new engagement. The <code>add</code> command also calls <code>Model#updateSortedEngagementList()</code> with <code>currentComparator</code>, causing the execution of sorting after the new engagement is added to the list, to preserve the current ordering.</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="../images/SortListState2.png" alt="SortListState2" width="450">
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If the <code>currentComparator</code> assumes the initial value <code>null</code> when <code>Model#updateSortedEngagementList</code> is called, the method will simply catch the <code>NullPointerException</code> thrown by <code>java.object.requireNonNull</code> which will essentially abort the attempt to sort with an empty catch block. The initial chronological order is preserved in this case.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Step 5. The user then decides to execute the command <code>list</code>. Commands that do not modify the engagement list or alter the order of the list, such as <code>list</code>, will usually not call <code>Model#setComparator(Comparator&lt;Engagement&gt;)</code>, or <code>Model#updateSortedEngagementList()</code>. Thus, the internal <code>ObservableList</code> remains unchanged.</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="../images/SortListState3.png" alt="SortListState3" width="450">
</div>
</div>
<div class="paragraph">
<p>The following activity diagram summarizes what happens when a user executes a new command:</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="../images/SortUpdateActivityDiagram.png" alt="SortUpdateActivityDiagram" width="190">
</div>
</div>
</div>
<div class="sect3">
<h4 id="design-considerations"><a class="link" href="#design-considerations">Design Considerations</a></h4>
<div class="sect4">
<h5 id="aspect-how-sort-executes"><a class="link" href="#aspect-how-sort-executes">Aspect: How sort executes</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Use the <code>List.sort(Comparator&lt;T&gt;)</code> function to sort the list.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Has trivial support for features that updates the predicate of <code>FilteredList</code>, like <code>Find</code>.</p>
</li>
<li>
<p>Cons: There is a need to sort the list each time a command that modifies the elements of the list is executed, which may result in performance issues in case the list size is large.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Replace the <code>FilteredList</code> in <code>ModelManager</code> with a <code>SortedList</code>.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Sorting the list is more intuitive, and the ordering of the engagements is automatically preserved whenever a command that modifies the list elements is executed.</p>
</li>
<li>
<p>Cons: Features like <code>find</code> command may lose functionality and needs extra modification.
=== Sort feature
==== Implementation</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The sort mechanism is facilitated by <code>EngagementComparator</code>.
The <code>EngagementComparator</code> is an enum class that implements Java Comparator&lt;Engagement&gt; and specifies the comparing logic of 8 different orders, namely <code>START_TIME</code>, <code>START_TIME_REVERSE</code>, <code>END_TIME</code>, <code>END_TIME_REVERSE</code>, <code>ALPHABETICAL</code>, <code>ALPHABETICAL_REVERSE</code>, <code>PRIORITY</code>, and <code>PRIORITY_REVERSE</code>.
Each positive sequence comparator compares two <code>Engagements</code> with the field specified within its name in ascending order, and <code>_REVERSE</code> comparators compare in descending order.</p>
</div>
<div class="paragraph">
<p>Additionally, the <code>Model</code> interface is modified to support the following methods:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>Model#setComparator(Comparator&lt;Engagement&gt;)</code>&#8201;&#8212;&#8201;Sets the designated comparator in model.</p>
</li>
<li>
<p><code>Model#updateSortedEngagementList()</code>&#8201;&#8212;&#8201;Executes the sorting method with the <code>currentComparator</code> in model to sort the internal list.</p>
</li>
<li>
<p><code>Model#getSortedEngagementList()</code>&#8201;&#8212;&#8201;Returns the current internal engagement list as an unmodifiable <code>ObservableList</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>These operations are implemented in the <code>ModelManager</code> class as <code>ModelManager#setComparator(Comparator&lt;Engagement&gt;)</code>, <code>ModelManager#updateSortedEngagementList()</code> and <code>ModelManager#getSortedEngagementList()</code> respectively.</p>
</div>
<div class="paragraph">
<p>Given below is an example usage scenario and how the sort mechanism behaves at each step.</p>
</div>
<div class="paragraph">
<p>Step 1. The user launches the application for the first time. The <code>currentComparator</code> will be initialized as <code>null</code>.</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="../images/SortListState0.png" alt="SortListState0" width="450">
</div>
</div>
<div class="paragraph">
<p>Step 2. The user executes <code>sort p/priority o/ascending</code> command to sort the engagement list in ascending order of priority. The <code>sort</code> command calls <code>Model#setComparator()</code>, causing the <code>currentComparator</code> in ModelManager to assume the value <code>EngagementComparator#PRIORITY</code>. The command then calls <code>Model#updateSortedEngagementList</code> to execute the sorting.</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="../images/SortListState1.png" alt="SortListState1" width="450">
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The parsing of <code>sort</code> follows the interactive parsing structure <strong><em>Typee</em></strong> adopts, where various stages are created while parsing. See Sequence Diagram below.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The following sequence diagram shows how the sort operation works:</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="../images/SortSequenceDiagram.png" alt="SortSequenceDiagram" width="750">
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The lifeline for <code>SortCommand</code> and the 3 Stages should end at the destroy marker (X) but due to a limitation of PlantUML, the lifeline reaches the end of diagram.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Step 3. The user executes <code>add t/meeting &#8230;&#8203; p/high</code> to add a new engagement. The <code>add</code> command also calls <code>Model#updateSortedEngagementList()</code> with <code>currentComparator</code>, causing the execution of sorting after the new engagement is added to the list, to preserve the current ordering.</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="../images/SortListState2.png" alt="SortListState2" width="450">
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If the <code>currentComparator</code> assumes the initial value <code>null</code> when <code>Model#updateSortedEngagementList</code> is called, the method will simply catch the <code>NullPointerException</code> thrown by <code>java.object.requireNonNull</code> which will essentially abort the attempt to sort with an empty catch block. The initial chronological order is preserved in this case.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Step 5. The user then decides to execute the command <code>list</code>. Commands that do not modify the engagement list or alter the order of the list, such as <code>list</code>, will usually not call <code>Model#setComparator(Comparator&lt;Engagement&gt;)</code>, or <code>Model#updateSortedEngagementList()</code>. Thus, the internal <code>ObservableList</code> remains unchanged.</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="../images/SortListState3.png" alt="SortListState3" width="450">
</div>
</div>
<div class="paragraph">
<p>The following activity diagram summarizes what happens when a user executes a new command:</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="../images/SortUpdateActivityDiagram.png" alt="SortUpdateActivityDiagram" width="190">
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="design-considerations-2"><a class="link" href="#design-considerations-2">Design Considerations</a></h4>
<div class="sect4">
<h5 id="aspect-how-sort-executes-2"><a class="link" href="#aspect-how-sort-executes-2">Aspect: How sort executes</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Use the <code>List.sort(Comparator&lt;T&gt;)</code> function to sort the list.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Has trivial support for features that updates the predicate of <code>FilteredList</code>, like <code>Find</code>.</p>
</li>
<li>
<p>Cons: There is a need to sort the list each time a command that modifies the elements of the list is executed, which may result in performance issues in case the list size is large.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Replace the <code>FilteredList</code> in <code>ModelManager</code> with a <code>SortedList</code>.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Sorting the list is more intuitive, and the ordering of the engagements is automatically preserved whenever a command that modifies the list elements is executed.</p>
</li>
<li>
<p>Cons: Features like <code>find</code> command may lose functionality and needs extra modification.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<h3 id="use-case-uc09-undo-previous-command" class="discrete">Use case: (UC09) Undo previous command</h3>
<div class="paragraph">
<p><strong>MSS</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>User requests to undo command</p>
</li>
<li>
<p>System reverts the appointment list to its previous state</p>
<div class="paragraph">
<p>Use case ends.</p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Extensions</strong></p>
</div>
<div class="ulist none">
<ul class="none">
<li>
<p>2a. There is no previous command</p>
<div class="paragraph">
<p>Use case ends.</p>
</div>
</li>
</ul>
</div>
<h3 id="use-case-uc10-redo-previous-command" class="discrete">Use case: (UC10) Redo previous command</h3>
<div class="paragraph">
<p><strong>MSS</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>User requests to redo command</p>
</li>
<li>
<p>System reverts the appointment list to its previous undone state</p>
<div class="paragraph">
<p>Use case ends.</p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Extensions</strong></p>
</div>
<div class="ulist none">
<ul class="none">
<li>
<p>2a. There is no previous undone command</p>
<div class="paragraph">
<p>Use case ends.</p>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="glossary"><a class="link" href="#glossary">Appendix A: Glossary</a></h2>
<div class="sectionbody">
<div class="dlist">
<dl>
<dt class="hdlist1"><a id="mainstream-os"></a> Mainstream OS</dt>
<dd>
<p>Windows, Linux, Unix, OS-X</p>
</dd>
<dt class="hdlist1"><a id="secretary"></a> Secretary</dt>
<dd>
<p>A person employed by an individual or in an office to assist with correspondence, make appointments,
and carry out administrative tasks.</p>
</dd>
<dt class="hdlist1"><a id="manager"></a> Manager</dt>
<dd>
<p>The person that the secretary is assigned to work for.</p>
</dd>
<dt class="hdlist1"><a id="engagement"></a> Engagement</dt>
<dd>
<p>An arrangement, meeting or interview managed and maintained by a secretary, for the manager to meet someone at a particular time and place.</p>
</dd>
</dl>
</div>
<div class="sect2">
<h3 id="sorting-the-engagement-list"><a class="link" href="#sorting-the-engagement-list">Sorting the engagement list</a></h3>
<div class="paragraph">
<p>(i) Test case:<br>
The sequence of commands is as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>sort
p/start
o/ascending</code></pre>
</div>
</div>
<div class="paragraph">
<p>Expected: The list should be sorted in ascending order of start time.</p>
</div>
<div class="paragraph">
<p>(ii) Test case: Executing the sort command by giving all attributes at once</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>sort p/start o/ascending</code></pre>
</div>
</div>
<div class="paragraph">
<p>Expected: This should give the exact same result as the previous stepwise command.</p>
</div>
</div>
<div class="sect2">
<h3 id="undo-and-redo"><a class="link" href="#undo-and-redo">Undo and Redo</a></h3>
<div class="paragraph">
<p>(i) Test case: Executing the undo command
The sequence of commands is as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>delete i/1 (provided there is at least 1 engagement in the list)
undo</code></pre>
</div>
</div>
<div class="paragraph">
<p>Expected: The previously deleted engagement should reappear in the list.</p>
</div>
<div class="paragraph">
<p>(ii) Test case: Executing the redo command
The sequence of commands is as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>delete i/1 (provided there is at least 1 engagement in the list)
undo
redo</code></pre>
</div>
</div>
<div class="paragraph">
<p>Expected: The recovered engagement should disappear in the list.</p>
</div>
</div>
</div>
</div></div><div id="footer"><div class="container"><div id="footer-text">Last updated 2019-11-11 11:19:03 UTC</div></div></div></body></html>